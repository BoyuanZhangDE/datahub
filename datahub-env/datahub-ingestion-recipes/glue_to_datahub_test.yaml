# see https://datahubproject.io/docs/metadata-ingestion/source_docs/glue for complete documentation
source:
  type: glue
  config:
    env: "TEST"
    aws_region: "us-east-1"
    extract_transforms: false
    catalog_id: "921601918690"

    # database_name = "nyctlcdb"
    # table_name = "trip_data_yellow"
    # database_name_p = "nyctlcdb_partitioned"
    # table_name_p = "table_name_nyc_tlc"

    # database_pattern:
    #   allow:
    #     - "nyctlcdb"
    # table_pattern:
    #   allow:
    #     - "nyctlcdb.trip_data_yellow"


    database_pattern:
      allow:
        - "nyctlcdb_partitioned"
    table_pattern:
      allow:
        - "nyctlcdb_partitioned.table_name_nyc_tlc"

    profiling:
      enabled: true
      rowCount: DQP__Size
      columnCount: DQP__ColumnCount
      # uniqueCount: Union[None, int]=None,
      uniqueProportion: DQP__Distinctness
      # nullCount: Union[None, int]=None,
      # nullProportion: Union[None, float]=None,
      min: DQP__Minimum
      max: DQP__Maximum
      mean: DQP__Mean
      # median: Union[None, str]=None,
      stdev: DQP__StandardDeviation
      quantiles:
        - 0.1
        - 0.2
        - 0.3
        - 0.4
        - 0.5
        - 0.6
        - 0.7
        - 0.8
        - 0.9
        - 1.0
      quantile_prefix: DQP__ApproxQuantiles
      # distinctValueFrequencies: 
      # histogram:
      # sampleValues: 


# see https://datahubproject.io/docs/metadata-ingestion/sink_docs/datahub for complete documentation
sink:
  type: "datahub-rest"
  config:
    server: "http://localhost:8080"